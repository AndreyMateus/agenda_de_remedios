/*! For license information please see main.min.js.LICENSE.txt */
(()=>{"use strict";function e(){const n=document.getElementById("btn-add");n.innerText="Confirmar",n.style.backgroundColor="#1FEB00",document.getElementById("btn-add").removeEventListener("click",e);const a=function(){const e=document.createElement("div");e.classList.add("card-add-remedie"),e.style.setProperty("position","absolute");const n=document.createElement("div");n.classList.add("container-name");const a=document.createElement("label");a.setAttribute("for","name"),a.innerText="Digite o nome do remédio:";const d=document.createElement("input");d.type="text",d.id="name",d.name="name",n.append(a,d);const o=document.createElement("div");o.classList.add("container-dosage");const c=document.createElement("label");c.innerText="Digite a Dosagem do remédio:",c.setAttribute("for","dosage");const s=document.createElement("input");s.type="text",s.id="dosage",o.setAttribute("name","dosage"),o.append(c,s);const r=document.createElement("div");r.classList.add("container-description");const i=document.createElement("label");i.innerText="Descrição (Opcional)",i.setAttribute("for","description");const l=document.createElement("textarea");l.setAttribute("name","description"),l.setAttribute("id","description"),l.setAttribute("cols","30"),l.setAttribute("rows","8"),l.setAttribute("placeholder","Digite aqui alguma observação"),r.append(i,l);const m=document.createElement("div");m.classList.add("container-ingetNow");const u=document.createElement("p");u.innerText="Vai ingerir agora ?",m.append(u);const p=document.createElement("div");p.classList.add("container-inputs");const E=document.createElement("div");E.classList.add("input-radio");const g=document.createElement("input");g.type="radio",g.id="ingestNowYes",g.value="yes",g.setAttribute("name","ingestNow");const b=document.createElement("label");b.textContent="Sim",b.setAttribute("for","ingestNowYes"),E.append(g,b);const y=document.createElement("div");y.classList.add("input-radio");const v=document.createElement("input");v.type="radio",v.id="ingestNowNo",v.value="no",v.setAttribute("name","ingestNow");const L=document.createElement("label");L.innerText="Não",L.setAttribute("for","ingestNowNo"),y.append(v,L);const x=document.createElement("p");x.classList.add("observation"),x.innerText="OBS: A Data e a Hora são pegos automaticamente do seu dispositivo",p.append(E,y),m.append(p,x);const A=document.createElement("button");return A.type="button",A.classList.add("cancel"),A.innerText="Cancelar",A.addEventListener("click",t),e.append(n,o,r,m,A),e}();document.body.appendChild(a),document.getElementById("btn-add").addEventListener("click",d)}function t(t){t.currentTarget.parentNode.remove(),document.getElementById("btn-add").addEventListener("click",e),document.getElementById("btn-add").innerText="Adicionar",document.getElementById("btn-add").style.backgroundColor="#50A7FF"}function n(){return`${(new Date).getDate()}/${(new Date).getMonth()+1}/${(new Date).getFullYear()}`}function a(){const e=(new Date).getMinutes();return`${(new Date).getHours()}:${e}`}function d(){document.getElementById("btn-add").removeEventListener("click",d),document.getElementById("btn-add").addEventListener("click",e),function(){const e=document.getElementById("name"),t=document.getElementById("dosage"),n=document.getElementById("description"),a=document.querySelector('input[name="ingestNow"]:checked');(function(e,t){let n=!0;return e?.value&&t?.value||(n=!1),n})(e,a)&&o({name:e?.value,dosage:t?.value,description:n?.value,ingestNow:a?.value})}(),document.querySelector(".cancel")?.parentNode.remove();const t=document.getElementById("btn-add");t.innerText="Adicionar",t.style.backgroundColor="#50A7FF";const n=function(){const e=[],t=document.getElementById("section-remedies"),n=document.querySelectorAll("h2[data-name] span"),a=document.querySelectorAll("span[data-date]"),d=document.querySelectorAll("span[data-time]"),o=document.querySelectorAll("span[data-dosage]"),c=document.querySelectorAll("span[data-description]");for(let s=0;s<t.children.length;s++)e.push({nameRemedie:n[s]?.textContent,dateRemedie:a[s]?.textContent,timeRemedie:d[s]?.textContent,dosageRemedie:o[s]?.textContent,descriptionRemedie:c[s]?.textContent});return e}(),a=JSON.stringify(n);localStorage.setItem("meusObjetos",a)}function o(e){const t=document.getElementById("section-remedies"),d=document.createElement("article");let r;d.classList.add("card-remedie"),d.addEventListener("dblclick",c),d.addEventListener("touchstart",(()=>{r=setTimeout((()=>{const e=t.children;Array.from(e).forEach((e=>{e.style.opacity=0}));const c=function(e){document.getElementById("btn-add").style.opacity="0";const t=Array.from(e.children),d=t[0].textContent,c=[];t.forEach((e=>{"P"===e.tagName&&c.push(e.children[1].textContent)}));const r=document.createElement("div");r.classList.add("box-form");const i=document.createElement("div");i.classList.add("card-remedie","formConfirm"),i.style.position="absolute";const l=document.createElement("h2");l.textContent="Você está ingerindo agora ?",l.style.color="#000",l.classList.add("h1");const m=document.createElement("div");m.classList.add("containerInputs");const u=document.createElement("label");u.textContent="Nome",u.setAttribute("for","inputName"),u.classList.add("sarala-bold");const p=document.createElement("input");p.setAttribute("id","inputName"),p.value=d,m.append(u,p);const E=document.createElement("div"),g=document.createElement("p");g.textContent=`Data: ${n()}`,g.classList.add("sarala-bold"),E.append(g);const b=document.createElement("div"),y=document.createElement("p");y.textContent=`Hora: ${a()}`,y.classList.add("sarala-bold"),b.append(y);const v=document.createElement("div");v.classList.add("containerInputs");const L=document.createElement("label");L.textContent="Dosagem",L.classList.add("sarala-bold"),L.setAttribute("for","dosage");const x=document.createElement("input");x.setAttribute("id","dosage"),x.value=c[2],v.append(L,x);const A=document.createElement("div");A.classList.add("containerTextArea");const f=document.createElement("label");f.setAttribute("for","textDescription"),f.classList.add("sarala-bold"),f.textContent="Descrição";const N=document.createElement("textarea");N.setAttribute("id","textDescription"),N.value=c[3],A.append(f,N);const T=document.createElement("div"),h=document.createElement("p");h.textContent="OBS: A Data e a Hora são pegos automaticamente do seu dispositivo.",h.classList.add("sarala-bold"),T.append(h);const C=document.createElement("div");C.classList.add("containerBts");const B=document.createElement("button");B.textContent="Sim",B.classList.add("btn-remove-yes","sarala-bold"),B.addEventListener("click",(e=>{e.currentTarget.parentNode.parentNode.parentNode.remove(),o({name:p.value,dosage:x.value,description:N.value}),document.getElementById("btn-add").style.opacity="1";const t=document.getElementById("section-remedies").children;Array.from(t).forEach((e=>{e.style.opacity=1}))})),B.addEventListener("click",s);const I=document.createElement("button");return I.textContent="Não",I.classList.add("btn-remove-no","sarala-bold"),I.addEventListener("click",(function(e){r.remove(),document.getElementById("btn-add").style.opacity="1";const t=document.getElementById("section-remedies").children;Array.from(t).forEach((e=>{e.style.opacity=1}))})),C.append(B,I),i.append(l,m,E,b,v,A,T,C),r.append(i),r}(d);t.append(c)}),550)})),d.addEventListener("touchend",(()=>{clearTimeout(r)}));const i=document.createElement("h2");i.classList.add("sarala-regular"),i.setAttribute("data-name",e?.name);const l=document.createElement("span");l.classList.add("sarala-bold"),l.innerText=e.name,i.appendChild(l),d.append(i);const m=document.createElement("p"),u=document.createElement("span");u.classList.add("sarala-bold"),u.innerText="Data: ";const p=document.createElement("span");p.classList.add("sarala-regular"),"no"===e.ingestNow?(p.setAttribute("data-date","Não ingeriu ainda"),p.innerText="Não ingeriu ainda"):e.date?(p.setAttribute("data-date",e.date),p.innerText=e.date):(p.setAttribute("data-date",n()),p.innerText=n()),m.append(u,p);const E=document.createElement("p"),g=document.createElement("span");g.classList.add("sarala-bold"),g.innerText="Hora: ";const b=document.createElement("span");b.classList.add("sarala-regular"),"no"===e.ingestNow?(b.setAttribute("data-time","Não ingeriu ainda"),b.innerText="Não ingeriu ainda"):e.time?(b.setAttribute("data-time",e.time),b.innerText=e.time):(b.setAttribute("data-time",a()),b.innerText=a()),E.append(g,b);const y=document.createElement("p"),v=document.createElement("span");v.classList.add("sarala-bold"),v.innerText="Dosagem: ";const L=document.createElement("span");L.classList.add("sarala-regular"),L.setAttribute("data-dosage",e.dosage),L.innerText=e.dosage?e.dosage:"",y.append(v,L);const x=document.createElement("p"),A=document.createElement("span");A.classList.add("sarala-bold"),A.innerText="Descrição: ";const f=document.createElement("span");f.classList.add("sarala-regular"),f.setAttribute("data-description",e.description),f.innerText=e.description?e.description:"",x.append(A,f),d.append(m,E,y,x),t.appendChild(d)}function c(e){const t=e.currentTarget,n=Array.from(t.children);n.forEach((e=>{e.style.opacity=0})),function(e,t){e.style.position="relative";const n=document.createElement("h2");n.classList.add("sarala-bold"),n.textContent="Deseja Remover";const a=document.createElement("div");a.classList.add("box");const d=document.createElement("button");d.textContent="Sim",d.classList.add("btn-remove-yes","sarala-bold"),d.addEventListener("click",s);const o=document.createElement("button");o.textContent="Não",o.classList.add("btn-remove-no","sarala-bold"),o.addEventListener("click",(function(e){e.currentTarget.parentNode.remove(),t.forEach((e=>{e.style.opacity=1}))})),a.append(n,d,o),e.append(a)}(t,n)}function s(e){e.currentTarget.parentNode.parentNode.remove(),d()}document.getElementById("btn-add").addEventListener("click",e),function(){const e=localStorage.getItem("meusObjetos"),t=JSON.parse(e);for(let e=0;e<t.length;e++)o({name:t[e].nameRemedie,dosage:t[e].dosageRemedie,description:t[e].descriptionRemedie,date:t[e].dateRemedie,time:t[e].timeRemedie})}()})();